\chapter{Evaluation}
\label{chap:eval}

In this chapter, we
evaluate the expressiveness
and performance of our generated APIs
with respect to the main objective of
our project in
providing
developers with a development workflow
that offers communication safety guarantees in modern
web programming through multiparty session types.

\subsubsection{Expressiveness}
To evaluate the expressiveness
of our work,
we use two case studies
of protocols found in webservices
to demonstrate strengths and weaknesses
of our work:

\begin{itemize}

\item
\textbf{\tprotocol{Noughts and Crosses} Game, as introduced
in \cite{PLACES2020}:}

In \cref{section:evalgame},
we implement a classic multiplayer game which involves a game server
and two players interacting with the game via the browser,
to show that our work is compatible with multiparty sessions,
which is not the case in \cite{MVU2020,Exceptional}.
We show how our generated APIs are compatible with the
state management solution used by the game, and give examples of 
how the generated APIs empower the developer to intuitively 
implement the game interface.

\item
\textbf{\tprotocol{Two Buyers} Protocol, as introduced in 
\cref{section:twobuyer} and \cite{JACM2016,MPAST}:}

In \cref{section:evaltwobuyer},
we walk through an implementation of the \tprotocol{Two Buyers}
protocol. This \textit{cannot} be implemented in
\cite{PureScript2019,MVU2020,Exceptional}, 
which illustrates the novelty
of our \newtheory theory on routed multiparty session types.
We emphasise how the routing mechanism is transparent to the
developer implementing the protocol, which demonstrates
the practicality of our extensions to \codegen to support
\newtheory.

\end{itemize}

\subsubsection{Performance}
To evaluate the performance of our work,
we run micro-benchmarks
on a variant of the \tprotocol{Ping Pong}
protocol parameterised by the number
of round trips
to analyse the overhead of our implementation,
compared with implementations written
without using our generated APIs,
as the number of round trips increase.
We describe the experiment methodology
and comment on our findings in \cref{section:benchmarks}.

\input{sections/evalconcl/eval/game}

\input{sections/evalconcl/eval/twobuyer}

%\input{sections/evalconcl/eval/atm} 

\input{sections/evalconcl/eval/benchmarks}

\section{Summary}
We have demonstrated
the expressiveness of our generated APIs
through implementing two web services describing
multiparty sessions. We highlighted how our
approach towards session-typed GUI programming
prevents channel reuse and 
makes it intuitive to implement the game board
of \tprotocol{Noughts and Crosses}.
We also showed
that the extensions added to \nodecodegen
and \reactcodegen
to support \newtheory
are transparent to the developer.

Through performance benchmarks against a
baseline implementation of the \tprotocol{Ping Pong}
protocol, we analysed the overhead of our implementation
and reasoned that this overhead will minimise when compared
with baseline implementations of more complex, multiparty
protocols involving routed communication.