% PROOF TREES

% CODE LISTING

% COMMANDS
\usepackage{ wasysym }
\usepackage{ amssymb }
\usepackage{ xcolor }
\usepackage{ bm }
\usepackage{ cmll }
\usepackage{ array } 
\usepackage{ mathtools }
\usepackage{ stmaryrd } 

%% TEXT
\newcommand{\rulename}[1]{
[\textsc{#1}]
}

%% SYMBOLS
\newcommand{\role}[1]{
{\color{blue}\bm{\mathsf{#1}}}
}

%% PI CALCULUS
\newcommand{\nil}{
\mathbf{0}
}
\newcommand{\piin}[2]{
{#1}({#2})
}
\newcommand{\piout}[2]{
\bar{#1}\langle {#2} \rangle
}
\newcommand{\pipar}[2]{
\left({#1}\mid{#2}\right)
}
\newcommand{\pirepl}[1]{
!{#1}
}
\newcommand{\pires}[2]{
(\nu{#1})~{#2}
}

%% SESSION CALCULUS
\newcommand{\bra}[3]{
\role{#1} \rhd \left\{ {#2} \right\}_{#3}
}
\newcommand{\sel}[2]{
\role{#1} \lhd {#2}
}
\newcommand{\cond}[3]{
\texttt{if}~{#1}~\texttt{then}~{#2}~\texttt{else}~{#3}
}
\newcommand{\rec}[1]{
\mu X.{#1}
}
\newcommand{\recvar}{X}
\newcommand{\sess}[2]{
\role{#1}::{#2}
}

%% SESSION TYPE
\newcommand{\tyend}{
\textbf{\texttt{end}}
}

\newcommand{\tybra}[3]{
\role{#1} \with \left\{ #2 \right\}_{#3}
}
\newcommand{\tysel}[3]{
\role{#1} \oplus \left\{ {#2} \right\}_{#3}
}
\newcommand{\tyrec}[1]{
\mu\tyrecvar.{#1}
}
\newcommand{\tyrecvar}{
\textbf{\texttt{t}}
}
\newcommand{\dual}[1]{
\overline{#1}
}

%% GLOBAL TYPE
\newcommand{\pt}[1]{
\texttt{pt}\left({#1}\right)
}
\newcommand{\gcomm}[4]{
\role{#1} \to \role{#2} : \left\{ {#3} \right\}_{#4}
}
\newcommand{\proj}[2]{
{#1} \upharpoonright \role{#2}
}
\newcommand{\tymergeop}{
\sqcap
}
\newcommand{\tyMERGEOP}{
{\mbox{\LARGE$\sqcap$}}
}
\newcommand{\tymerge}[2]{
{#1}\,{\tymergeop}\,{#2}
}
\newcommand{\tyreduct}[4]{
{#1}\setminus\role{#2} \xrightarrow{#4} \role{#3}
}
\newcommand{\tyreductset}[5]{
{#1}\setminus\role{#2} \xrightarrow{{#4},\,{#5}} \role{#3}
}

%% NEW TYPES
\newcommand{\gcommroute}[5]{
\role{#1} \xrightarrow[\role{#3}]{} \role{#2} : \left\{ {#4} \right\}_{#5}
}
\newcommand{\tyroute}[5]{
\texttt{route}\left(\role{#1} \to \role{#2}: \left\{{#3}\right\}_{#4}\right) \mid {#5}
}
\newcommand{\encode}[1]{
\llbracket{#1}\rrbracket
}
\newcommand{\tyencode}[2]{
\encode{{#1},\role{#2}}
}

%% LTS
\newcommand{\ltsroute}[1]{
\texttt{via}\left({#1}\right)
}

\newcommand{\ltssend}[3]{
\role{#1}\role{#2}!{#3}
}
\newcommand{\ltsreduce}[1]{
\xrightarrow{#1}
}
\newcommand{\ltsreduceroute}[2]{
\xrightarrow[#2]{#1}
}